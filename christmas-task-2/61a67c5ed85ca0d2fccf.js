(()=>{"use strict";var e={265:()=>{console.log('\n195 / 220\n\n1. Вёрстка страниц приложения и навигация между ними +30;\n  *стартовая страница содержит название приложения и кнопку "Let\'s start". Выполняются требования к вёрстке +10;\n  *на странице с ёлкой есть меню с настройками, слоты с добавленными в избранное игрушками, ёлка. Выполняются требования к вёрстке +10;\n  *в header приложения есть навигация, которая позволяет с каждой страницы приложения перейти на две другие страницы +10 (думаю стоит отметить тут, если в избранное были добавленны игрушки то увидите надпись Your choose если в избранном ничего нет, соответственно фразы тоже нет);\n2. Меню с настройками +40;\nУ пользователя есть возможность:\n  *выбрать один из 10 фонов +10;\n  *выбрать одну из 6 ёлок +10;\n  *включить/отключить падающий снег (собственная реализаци на canvas) +10;\n  *включить/отключить новогоднюю музыку (проигрывается один раз) +10;\n  *выбранные настройки не сохраняются в local storage +0;\n3. Гирлянда +40;\n  *Гирлянда реализуется средствами css без использования изображений\n  *Гирлянда на ёлку добавляется динамически средствами JavaScript (на кросс-чеке этот пункт не проверяется)\n  У пользователя есть возможность:\n    *добавить на ёлку мерцающую разноцветную гирлянду +20;\n    *выбрать один из 4 цветов лампочек гирлянды или оставить её разноцветной +10;\n    *внешний вид гирлянды является улучшенной версией (огни больше и появляются плавно) +10;\n4. Игрушки в избранном +65;\n  *в слотах находятся игрушки, которые были добавлены в избранное на странице с игрушками +10;\n  *если в избранное не была добавлена ни одна игрушка, в слотах отображаются первые 20 игрушек коллекции исходных данных +10;\n  *игрушки из слотов с игрушками можно перетянуть на ёлку используя drag and drop +10;\n  *если в процессе перетягивания игрушку отпускают за пределами ёлки, она возвращается в свой слот +10;\n  *повешенные на ёлку игрушки можно перетягивать в пределах ёлки +10;\n  *повешенные на ёлку игрушки нельзя \'снимать с ёлки\', в слот не возвращаются +0;\n  *возле слота с каждой игрушкой указывается количество игрушек в слоте равное количеству экземпляров игрушки в массиве с исходными данными +10;\n  *когда игрушку "вешают на ёлку" количество игрушек в слоте уменьшается, когда игрушку "снимают с ёлки", количество игрушек в слоте не увеличивается, когда все экземпляры игрушки помещаются на ёлку, отображается пустой слот +5;\n5. Дополнительный функционал на выбор +20\n  *есть кнопка "Safe tree" при клике по которой текущее состояние страницы с ёлкой сохраняется в local storage, изображение ёлки с размещёнными на ней игрушками добавляется в секцию "You decorate". При клике по карточкам из этой секции восстанавливается состояние страницы с ёлкой на момент сохранения +10; (к сожалению работает один раз, возвращается статическая страница, все функции в ней отсутствуют);\n  *дополнительно добавлены различного рода анимации, такие как:\n    *появление ёлки при загрузке страницы\n    *тряска секций настроек и игрушек\n    *плавный переход между страницами\n    *анимация во вкладке с игрушками была сделана в предыдущем задании (не оценивается)\n    *анимация сохранения наряженных ёлок, на превью сохраняется фон и вид ёлки\n    *добавлен таймер обратного отсчета до празднования 2022 года +10\n\nСЧАСТЛИВОГО ПРАЗВДНОВАНИЯ НОВОГО ГОДА!!! ЭТОТ ПУТЬ БЫЛ НЕ ИЗ ПРОСТЫХ, ПОЖЕЛАЮ УСПЕХОВ В СЛЕДУЮЩЕМ ГОДУ!!!\n')}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{const e=function(){function e(e){this.container=document.createElement("div"),this.container.id=e}return e.prototype.render=function(){return this.container},e.prototype.createHeaderTitle=function(e){return e},e}();const t=function(){function e(e){this.baseLink=e,this.baseLink=e}return e.prototype.load=function(){return e=this,t=void 0,r=function(){return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(e){switch(e.label){case 0:return[4,fetch(this.baseLink)];case 1:return[4,e.sent().json()];case 2:return[2,e.sent()]}}))},new((n=void 0)||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r},e}(),r=function(){function e(e,t){this.container=document.createElement("div"),this.container.id=e,this.container.className=t}return e.prototype.render=function(e){var t=this.createHeaderTitle(e),n=this.createButtonStart();return this.container.append(t),this.container.append(n),this.removeModal(),this.container},e.prototype.removeModal=function(){var e=this,t=this.container.querySelector(".btn__modal");null==t||t.addEventListener("click",(function(t){var n,r;t.preventDefault(),e.container.remove(),null===(n=e.container.lastChild)||void 0===n||n.remove(),null===(r=e.container.lastChild)||void 0===r||r.remove()}))},e.prototype.createHeaderTitle=function(e){var t=document.createElement("h3");return t.className="title title__modal",t.innerText=e,t},e.prototype.createButtonStart=function(t){void 0===t&&(t=e.textObject.buttonContent);var n=document.createElement("a");return n.className="btn btn__modal",n.innerText=t,n},e.textObject={buttonContent:"OK"},e}();var a,o,i=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},s=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c=function(){function e(n,a){this.textTitle="Choose toys",this.MAX_LENGTH_UNIQUE=21,this.MIN_LENGTH_UNIQUE=0,this.MAX_CHILD_DESCR=6,this.container=document.createElement("main"),this.loader=new t(e.url),this.container.id=n,this.container.className=a,this.modal=new r("modal","modal")}return e.prototype.render=function(){return i(this,void 0,void 0,(function(){var e,t,n;return s(this,(function(r){switch(r.label){case 0:return e=this.createTitle("h2","title title__card",this.textTitle),n=this.createElements,[4,this.loader.load()];case 1:return[4,n.apply(this,[r.sent()])];case 2:return t=r.sent(),this.container.append(e),this.container.append(t),this.showUnique(),this.addUniqueElement(),[2,this.container]}}))}))},e.prototype.sortCards=function(e){var t=this.container.querySelector(".cards");switch(e){case"not-sorted":this.bubbleSort(null==t?void 0:t.children,t);break;case"sort-name-max":this.bubbleSortName(t);break;case"sort-name-min":this.bubbleSortName(t,!1);break;case"sort-year-max":this.bubbleSortYear(null==t?void 0:t.children,t);break;case"sort-year-min":this.bubbleSortYear(null==t?void 0:t.children,t,!1)}},e.prototype.bubbleSortYear=function(e,t,n){var r,a;void 0===n&&(n=!0);for(var o=0;o<e.length;o++)for(var i=o;i<e.length;i++){var s=null===(r=e[o])||void 0===r?void 0:r.dataset.year,c=null===(a=e[i])||void 0===a?void 0:a.dataset.year;if(n){if(+s>+c){var l=t.replaceChild(e[i],e[o]);this.insertAfter(l,e[o])}}else+s<+c&&(l=t.replaceChild(e[i],e[o]),this.insertAfter(l,e[o]))}},e.prototype.bubbleSortName=function(e,t){void 0===t&&(t=!0);for(var n=e.children,r=0;r<n.length;r++)for(var a=r;a<n.length;a++){var o=n[r].firstChild.innerText.toLowerCase(),i=n[a].firstChild.innerText.toLowerCase();if(t){if(o>i){var s=e.replaceChild(n[a],n[r]);this.insertAfter(s,n[r])}}else o<i&&(s=e.replaceChild(n[a],n[r]),this.insertAfter(s,n[r]))}},e.prototype.bubbleSort=function(e,t,n){var r,a;void 0===n&&(n=!0);for(var o=0;o<e.length;o++)for(var i=o;i<e.length;i++){var s=null===(r=e[o])||void 0===r?void 0:r.dataset.id,c=null===(a=e[i])||void 0===a?void 0:a.dataset.id;if(n&&+s>+c){var l=t.replaceChild(e[i],e[o]);this.insertAfter(l,e[o])}}},e.prototype.insertAfter=function(e,t){var n;return null===(n=t.parentNode)||void 0===n?void 0:n.insertBefore(e,t.nextSibling)},e.prototype.filterRange=function(e,t,n){for(var r,a=this.container.querySelector(".cards"),o=0;o<(null==a?void 0:a.childElementCount);o++){var i=t?null===(r=null==a?void 0:a.children[o].lastChild)||void 0===r?void 0:r.firstChild:null==a?void 0:a.children[o],s=null==a?void 0:a.children[o],c=i.getAttribute(n);s.classList.remove("hide"),e[0]>+c&&this.transitionEnd(s),e[1]<+c&&this.transitionEnd(s)}},e.prototype.transitionEnd=function(e){e.classList.add("hide"),e.addEventListener("transitionend",(function(){e.classList.add("none")}))},e.prototype.typeData=function(e){switch(e){case"select-all":this.filterType(e,"all");break;case"bell":case"ball":case"cone":case"snowflake":case"figure":this.filterType(e,"data-type");break;case"big":case"medium":case"small":this.filterType(e,"data-size");break;case"favorite":this.filterType(e,"data-favorite");break;case"yellow":case"blue":case"red":case"white":case"green":this.filterType(e,"data-color")}},e.prototype.filterType=function(e,t){var n=this.getCards();n.forEach((function(e){e.classList.remove("hide")}));for(var r=0;r<n.length;r++)for(var a=0;a<this.MAX_CHILD_DESCR;a++){var o=n[r].children[2].children[a].getAttribute(t);o!==e&&o&&this.transitionEnd(n[r])}},e.prototype.getCards=function(){return this.container.querySelectorAll(".card")},e.prototype.createElements=function(e){return i(this,void 0,void 0,(function(){var t,n=this;return s(this,(function(r){return(t=document.createElement("div")).className="cards",e.forEach((function(e,r){var a=document.createElement("div"),o=document.createElement("div"),i=n.createTitle("h3","title title__cards",e.name),s=n.createImgElement(e.num),c=n.createTextElement("Amount toys:",e.count),l=n.createTextElement("Year of purchase:",e.year),u=n.createTextElement("Type toys:",e.shape),p=n.createTextElement("Color:",e.color),d=n.createTextElement("Size:",e.size),h=e.favorite?n.createTextElement("Favorite:","yes"):n.createTextElement("Favorite:","no");o.className="descr",a.className=e.unique?"card active":"card",a.dataset.id="".concat(r),p.dataset.color="".concat(e.color),u.dataset.type="".concat(e.shape),d.dataset.size="".concat(e.size),h.dataset.favorite="".concat(e.favorite?"favorite":"no-favorite"),a.dataset.year="".concat(e.year),c.dataset.count="".concat(e.count),a.append(i),a.append(s),o.append(c),o.append(l),o.append(u),o.append(p),o.append(d),o.append(h),a.append(o),t.append(a)})),[2,t]}))}))},e.prototype.createTitle=function(e,t,n){var r=document.createElement(e);return r.className=t,r.innerHTML=n,r},e.prototype.createTextElement=function(e,t,n){void 0===n&&(n="card__descr");var r=document.createElement("span");return r.className=n,r.innerHTML="".concat(e," ").concat(t),r},e.prototype.createImgElement=function(e){var t=document.createElement("picture"),n=document.createElement("img"),r=document.createElement("source");return r.srcset="https://raw.githubusercontent.com/Diluks93/stage1-tasks/christmas-task/assets/toys/".concat(e,".webp"),n.alt="toy",n.src="https://raw.githubusercontent.com/Diluks93/stage1-tasks/christmas-task/assets/toys/".concat(e,".png"),n.className="img img__card",t.append(r),t.append(n),t},e.prototype.showUnique=function(e){void 0===e&&(e=this.MIN_LENGTH_UNIQUE);var t=document.querySelector(".unique"),n=document.querySelector("header"),r=this.createTextElement("Your choose:",e,"unique__item");return t.innerHTML="",t.append(r),n.append(t),n},e.prototype.addUniqueElement=function(){return i(this,void 0,void 0,(function(){var e,t,n,r=this;return s(this,(function(a){switch(a.label){case 0:return e=this.getCards(),[4,this.loader.load()];case 1:return t=a.sent(),n=this.MIN_LENGTH_UNIQUE,e.forEach((function(e){e.addEventListener("click",(function(){var a=e.dataset.id;e.matches("div.card.active")?(e.classList.remove("active"),n--,t[+a].unique=!1,r.showUnique(n)):(e.classList.add("active"),n++,r.showUnique(n),t[+a].unique=!0),n===r.MAX_LENGTH_UNIQUE&&(r.container.append(r.modal.render("You have chosen the maximum of your favorite toys")),n--,t[+a].unique=!1,r.showUnique(n),e.classList.remove("active")),localStorage.setItem("dataImage",JSON.stringify(t))}))})),[2]}}))}))},e.url="https://raw.githubusercontent.com/Diluks93/stage1-tasks/christmas-task/data.json",e}();function l(e){return"object"==typeof e&&"function"==typeof e.to}function u(e){e.parentElement.removeChild(e)}function p(e){return null!=e}function d(e){e.preventDefault()}function h(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function f(e,t,n){n>0&&(b(e,t),setTimeout((function(){y(e,t)}),n))}function m(e){return Math.max(Math.min(e,100),0)}function g(e){return Array.isArray(e)?e:[e]}function v(e){var t=(e=String(e)).split(".");return t.length>1?t[1].length:0}function b(e,t){e.classList&&!/\s/.test(t)?e.classList.add(t):e.className+=" "+t}function y(e,t){e.classList&&!/\s/.test(t)?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function w(e){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:n?e.documentElement.scrollLeft:e.body.scrollLeft,y:t?window.pageYOffset:n?e.documentElement.scrollTop:e.body.scrollTop}}function S(e,t){return 100/(t-e)}function k(e,t,n){return 100*t/(e[n+1]-e[n])}function x(e,t){for(var n=1;e>=t[n];)n+=1;return n}!function(e){e.Range="range",e.Steps="steps",e.Positions="positions",e.Count="count",e.Values="values"}(a||(a={})),function(e){e[e.None=-1]="None",e[e.NoValue=0]="NoValue",e[e.LargeValue=1]="LargeValue",e[e.SmallValue=2]="SmallValue"}(o||(o={}));var E=function(){function e(e,t,n){var r;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.snap=t;var a=[];for(Object.keys(e).forEach((function(t){a.push([g(e[t]),t])})),a.sort((function(e,t){return e[0][0]-t[0][0]})),r=0;r<a.length;r++)this.handleEntryPoint(a[r][1],a[r][0]);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)this.handleStepPoint(r,this.xNumSteps[r])}return e.prototype.getDistance=function(e){for(var t=[],n=0;n<this.xNumSteps.length-1;n++)t[n]=k(this.xVal,e,n);return t},e.prototype.getAbsoluteDistance=function(e,t,n){var r,a=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[a+1];)a++;else e===this.xPct[this.xPct.length-1]&&(a=this.xPct.length-2);n||e!==this.xPct[a+1]||a++,null===t&&(t=[]);var o=1,i=t[a],s=0,c=0,l=0,u=0;for(r=n?(e-this.xPct[a])/(this.xPct[a+1]-this.xPct[a]):(this.xPct[a+1]-e)/(this.xPct[a+1]-this.xPct[a]);i>0;)s=this.xPct[a+1+u]-this.xPct[a+u],t[a+u]*o+100-100*r>100?(c=s*r,o=(i-100*r)/t[a+u],r=1):(c=t[a+u]*s/100*o,o=0),n?(l-=c,this.xPct.length+u>=1&&u--):(l+=c,this.xPct.length-u>=1&&u++),i=t[a+u]*o;return e+l},e.prototype.toStepping=function(e){return function(e,t,n){if(n>=e.slice(-1)[0])return 100;var r=x(n,e),a=e[r-1],o=e[r],i=t[r-1],s=t[r];return i+function(e,t){return k(e,e[0]<0?t+Math.abs(e[0]):t-e[0],0)}([a,o],n)/S(i,s)}(this.xVal,this.xPct,e)},e.prototype.fromStepping=function(e){return function(e,t,n){if(n>=100)return e.slice(-1)[0];var r=x(n,t),a=e[r-1],o=e[r],i=t[r-1];return function(e,t){return t*(e[1]-e[0])/100+e[0]}([a,o],(n-i)*S(i,t[r]))}(this.xVal,this.xPct,e)},e.prototype.getStep=function(e){return function(e,t,n,r){if(100===r)return r;var a=x(r,e),o=e[a-1],i=e[a];return n?r-o>(i-o)/2?i:o:t[a-1]?e[a-1]+function(e,t){return Math.round(e/t)*t}(r-e[a-1],t[a-1]):r}(this.xPct,this.xSteps,this.snap,e)},e.prototype.getDefaultStep=function(e,t,n){var r=x(e,this.xPct);return(100===e||t&&e===this.xPct[r-1])&&(r=Math.max(r-1,1)),(this.xVal[r]-this.xVal[r-1])/n},e.prototype.getNearbySteps=function(e){var t=x(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},e.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(v);return Math.max.apply(null,e)},e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},e.prototype.convert=function(e){return this.getStep(this.toStepping(e))},e.prototype.handleEntryPoint=function(e,t){var n;if(!h(n="min"===e?0:"max"===e?100:parseFloat(e))||!h(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(n),this.xVal.push(t[0]);var r=Number(t[1]);n?this.xSteps.push(!isNaN(r)&&r):isNaN(r)||(this.xSteps[0]=r),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(e,t){if(t)if(this.xVal[e]!==this.xVal[e+1]){this.xSteps[e]=k([this.xVal[e],this.xVal[e+1]],t,0)/S(this.xPct[e],this.xPct[e+1]);var n=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],r=Math.ceil(Number(n.toFixed(3))-1),a=this.xVal[e]+this.xNumSteps[e]*r;this.xHighestCompleteStep[e]=a}else this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e]},e}(),_={to:function(e){return void 0===e?"":e.toFixed(2)},from:Number},C={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},N=".__tooltips",T=".__aria";function L(e,t){if(!h(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function P(e,t){if(!h(t))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=t}function M(e,t){if(!h(t))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=t}function U(e,t){if(!h(t))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=t}function A(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new E(t,e.snap||!1,e.singleStep)}function D(e,t){if(t=g(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function O(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=t}function V(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=t}function H(e,t){if("number"!=typeof t)throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=t}function q(e,t){var n,r=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(n=1;n<e.handles;n++)r.push(t);r.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");r=t}e.connect=r}function I(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function j(e,t){if(!h(t))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==t&&(e.margin=e.spectrum.getDistance(t))}function Y(e,t){if(!h(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(t),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function z(e,t){var n;if(!h(t)&&!Array.isArray(t))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&2!==t.length&&!h(t[0])&&!h(t[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==t){for(Array.isArray(t)||(t=[t,t]),e.padding=[e.spectrum.getDistance(t[0]),e.spectrum.getDistance(t[1])],n=0;n<e.spectrum.xNumSteps.length-1;n++)if(e.padding[0][n]<0||e.padding[1][n]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var r=t[0]+t[1],a=e.spectrum.xVal[0];if(r/(e.spectrum.xVal[e.spectrum.xVal.length-1]-a)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function F(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function R(e,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=t.indexOf("tap")>=0,r=t.indexOf("drag")>=0,a=t.indexOf("fixed")>=0,o=t.indexOf("snap")>=0,i=t.indexOf("hover")>=0,s=t.indexOf("unconstrained")>=0,c=t.indexOf("drag-all")>=0;if(a){if(2!==e.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");j(e,e.start[1]-e.start[0])}if(s&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:n||o,drag:r,dragAll:c,fixed:a,snap:o,hover:i,unconstrained:s}}function B(e,t){if(!1!==t)if(!0===t||l(t)){e.tooltips=[];for(var n=0;n<e.handles;n++)e.tooltips.push(t)}else{if((t=g(t)).length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");t.forEach((function(e){if("boolean"!=typeof e&&!l(e))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})),e.tooltips=t}}function W(e,t){if(t.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=t}function G(e,t){if(!l(t))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=t}function X(e,t){if(!function(e){return l(e)&&"function"==typeof e.from}(t))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=t}function Q(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=t}function K(e,t){e.documentElement=t}function J(e,t){if("string"!=typeof t&&!1!==t)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function $(e,t){if("object"!=typeof t)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof e.cssPrefix?(e.cssClasses={},Object.keys(t).forEach((function(n){e.cssClasses[n]=e.cssPrefix+t[n]}))):e.cssClasses=t}function Z(e){var t={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:_,format:_},n={step:{r:!1,t:L},keyboardPageMultiplier:{r:!1,t:P},keyboardMultiplier:{r:!1,t:M},keyboardDefaultStep:{r:!1,t:U},start:{r:!0,t:D},connect:{r:!0,t:q},direction:{r:!0,t:F},snap:{r:!1,t:O},animate:{r:!1,t:V},animationDuration:{r:!1,t:H},range:{r:!0,t:A},orientation:{r:!1,t:I},margin:{r:!1,t:j},limit:{r:!1,t:Y},padding:{r:!1,t:z},behaviour:{r:!0,t:R},ariaFormat:{r:!1,t:G},format:{r:!1,t:X},tooltips:{r:!1,t:B},keyboardSupport:{r:!0,t:Q},documentElement:{r:!1,t:K},cssPrefix:{r:!0,t:J},cssClasses:{r:!0,t:$},handleAttributes:{r:!1,t:W}},r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:C,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(n).forEach((function(a){if(p(e[a])||void 0!==r[a])n[a].t(t,p(e[a])?e[a]:r[a]);else if(n[a].r)throw new Error("noUiSlider: '"+a+"' is required.")})),t.pips=e.pips;var a=document.createElement("div"),o=void 0!==a.style.msTransform,i=void 0!==a.style.transform;return t.transformRule=i?"transform":o?"msTransform":"webkitTransform",t.style=[["left","top"],["right","bottom"]][t.dir][t.ort],t}function ee(e,t,n){var r,i,s,c,l,h,v,S=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},k=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),x=e,E=t.spectrum,_=[],C=[],L=[],P=0,M={},U=e.ownerDocument,A=t.documentElement||U.documentElement,D=U.body,O="rtl"===U.dir||1===t.ort?0:100;function V(e,t){var n=U.createElement("div");return t&&b(n,t),e.appendChild(n),n}function H(e,n){var r=V(e,t.cssClasses.origin),a=V(r,t.cssClasses.handle);if(V(a,t.cssClasses.touchArea),a.setAttribute("data-handle",String(n)),t.keyboardSupport&&(a.setAttribute("tabindex","0"),a.addEventListener("keydown",(function(e){return function(e,n){if(j()||Y(n))return!1;var r=["Left","Right"],a=["Down","Up"],o=["PageDown","PageUp"],i=["Home","End"];t.dir&&!t.ort?r.reverse():t.ort&&!t.dir&&(a.reverse(),o.reverse());var s,c=e.key.replace("Arrow",""),l=c===o[0],u=c===o[1],p=c===a[0]||c===r[0]||l,d=c===a[1]||c===r[1]||u,h=c===i[1];if(!(p||d||c===i[0]||h))return!0;if(e.preventDefault(),d||p){var f=p?0:1,m=fe(n)[f];if(null===m)return!1;!1===m&&(m=E.getDefaultStep(C[n],p,t.keyboardDefaultStep)),m*=u||l?t.keyboardPageMultiplier:t.keyboardMultiplier,m=Math.max(m,1e-7),m*=p?-1:1,s=_[n]+m}else s=h?t.spectrum.xVal[t.spectrum.xVal.length-1]:t.spectrum.xVal[0];return le(n,E.toStepping(s),!0,!0),re("slide",n),re("update",n),re("change",n),re("set",n),!1}(e,n)}))),void 0!==t.handleAttributes){var o=t.handleAttributes[n];Object.keys(o).forEach((function(e){a.setAttribute(e,o[e])}))}return a.setAttribute("role","slider"),a.setAttribute("aria-orientation",t.ort?"vertical":"horizontal"),0===n?b(a,t.cssClasses.handleLower):n===t.handles-1&&b(a,t.cssClasses.handleUpper),r}function q(e,n){return!!n&&V(e,t.cssClasses.connect)}function I(e,n){return!(!t.tooltips||!t.tooltips[n])&&V(e.firstChild,t.cssClasses.tooltip)}function j(){return x.hasAttribute("disabled")}function Y(e){return i[e].hasAttribute("disabled")}function z(){l&&(ne("update.__tooltips"),l.forEach((function(e){e&&u(e)})),l=null)}function F(){z(),l=i.map(I),te("update.__tooltips",(function(e,n,r){if(l&&t.tooltips&&!1!==l[n]){var a=e[n];!0!==t.tooltips[n]&&(a=t.tooltips[n].to(r[n])),l[n].innerHTML=a}}))}function R(e,t){return e.map((function(e){return E.fromStepping(t?E.getStep(e):e)}))}function B(){c&&(u(c),c=null)}function W(e){B();var n=function(e){var t,n=function(e){if(e.mode===a.Range||e.mode===a.Steps)return E.xVal;if(e.mode===a.Count){if(e.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var t=e.values-1,n=100/t,r=[];t--;)r[t]=t*n;return r.push(100),R(r,e.stepped)}return e.mode===a.Positions?R(e.values,e.stepped):e.mode===a.Values?e.stepped?e.values.map((function(e){return E.fromStepping(E.getStep(E.toStepping(e)))})):e.values:[]}(e),r={},i=E.xVal[0],s=E.xVal[E.xVal.length-1],c=!1,l=!1,u=0;return t=n.slice().sort((function(e,t){return e-t})),(n=t.filter((function(e){return!this[e]&&(this[e]=!0)}),{}))[0]!==i&&(n.unshift(i),c=!0),n[n.length-1]!==s&&(n.push(s),l=!0),n.forEach((function(t,i){var s,p,d,h,f,m,g,v,b,y,w=t,S=n[i+1],k=e.mode===a.Steps;for(k&&(s=E.xNumSteps[i]),s||(s=S-w),void 0===S&&(S=w),s=Math.max(s,1e-7),p=w;p<=S;p=Number((p+s).toFixed(7))){for(v=(f=(h=E.toStepping(p))-u)/(e.density||1),y=f/(b=Math.round(v)),d=1;d<=b;d+=1)r[(m=u+d*y).toFixed(5)]=[E.fromStepping(m),0];g=n.indexOf(p)>-1?o.LargeValue:k?o.SmallValue:o.NoValue,!i&&c&&p!==S&&(g=0),p===S&&l||(r[h.toFixed(5)]=[p,g]),u=h}})),r}(e),r=e.filter,i=e.format||{to:function(e){return String(Math.round(e))}};return c=x.appendChild(function(e,n,r){var a,i,s=U.createElement("div"),c=((a={})[o.None]="",a[o.NoValue]=t.cssClasses.valueNormal,a[o.LargeValue]=t.cssClasses.valueLarge,a[o.SmallValue]=t.cssClasses.valueSub,a),l=((i={})[o.None]="",i[o.NoValue]=t.cssClasses.markerNormal,i[o.LargeValue]=t.cssClasses.markerLarge,i[o.SmallValue]=t.cssClasses.markerSub,i),u=[t.cssClasses.valueHorizontal,t.cssClasses.valueVertical],p=[t.cssClasses.markerHorizontal,t.cssClasses.markerVertical];function d(e,n){var r=n===t.cssClasses.value,a=r?c:l;return n+" "+(r?u:p)[t.ort]+" "+a[e]}return b(s,t.cssClasses.pips),b(s,0===t.ort?t.cssClasses.pipsHorizontal:t.cssClasses.pipsVertical),Object.keys(e).forEach((function(a){!function(e,a,i){if((i=n?n(a,i):i)!==o.None){var c=V(s,!1);c.className=d(i,t.cssClasses.marker),c.style[t.style]=e+"%",i>o.NoValue&&((c=V(s,!1)).className=d(i,t.cssClasses.value),c.setAttribute("data-value",String(a)),c.style[t.style]=e+"%",c.innerHTML=String(r.to(a)))}}(a,e[a][0],e[a][1])})),s}(n,r,i))}function G(){var e=r.getBoundingClientRect(),n="offset"+["Width","Height"][t.ort];return 0===t.ort?e.width||r[n]:e.height||r[n]}function X(e,n,r,a){var o=function(o){var i,s,c=function(e,t,n){var r=0===e.type.indexOf("touch"),a=0===e.type.indexOf("mouse"),o=0===e.type.indexOf("pointer"),i=0,s=0;if(0===e.type.indexOf("MSPointer")&&(o=!0),"mousedown"===e.type&&!e.buttons&&!e.touches)return!1;if(r){var c=function(t){var r=t.target;return r===n||n.contains(r)||e.composed&&e.composedPath().shift()===n};if("touchstart"===e.type){var l=Array.prototype.filter.call(e.touches,c);if(l.length>1)return!1;i=l[0].pageX,s=l[0].pageY}else{var u=Array.prototype.find.call(e.changedTouches,c);if(!u)return!1;i=u.pageX,s=u.pageY}}return t=t||w(U),(a||o)&&(i=e.clientX+t.x,s=e.clientY+t.y),e.pageOffset=t,e.points=[i,s],e.cursor=a||o,e}(o,a.pageOffset,a.target||n);return!!c&&!(j()&&!a.doNotReject)&&(i=x,s=t.cssClasses.tap,!((i.classList?i.classList.contains(s):new RegExp("\\b"+s+"\\b").test(i.className))&&!a.doNotReject)&&!(e===S.start&&void 0!==c.buttons&&c.buttons>1)&&(!a.hover||!c.buttons)&&(k||c.preventDefault(),c.calcPoint=c.points[t.ort],void r(c,a)))},i=[];return e.split(" ").forEach((function(e){n.addEventListener(e,o,!!k&&{passive:!0}),i.push([e,o])})),i}function Q(e){var n,a,o,i,s,c,l=100*(e-(n=r,a=t.ort,o=n.getBoundingClientRect(),s=(i=n.ownerDocument).documentElement,c=w(i),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(c.x=0),a?o.top+c.y-s.clientTop:o.left+c.x-s.clientLeft))/G();return l=m(l),t.dir?100-l:l}function K(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&$(e,t)}function J(e,n){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==n.buttonsProperty)return $(e,n);var r=(t.dir?-1:1)*(e.calcPoint-n.startCalcPoint);ie(r>0,100*r/n.baseSize,n.locations,n.handleNumbers,n.connect)}function $(e,n){n.handle&&(y(n.handle,t.cssClasses.active),P-=1),n.listeners.forEach((function(e){A.removeEventListener(e[0],e[1])})),0===P&&(y(x,t.cssClasses.drag),ce(),e.cursor&&(D.style.cursor="",D.removeEventListener("selectstart",d))),n.handleNumbers.forEach((function(e){re("change",e),re("set",e),re("end",e)}))}function ee(e,n){if(!n.handleNumbers.some(Y)){var r;1===n.handleNumbers.length&&(r=i[n.handleNumbers[0]].children[0],P+=1,b(r,t.cssClasses.active)),e.stopPropagation();var a=[],o=X(S.move,A,J,{target:e.target,handle:r,connect:n.connect,listeners:a,startCalcPoint:e.calcPoint,baseSize:G(),pageOffset:e.pageOffset,handleNumbers:n.handleNumbers,buttonsProperty:e.buttons,locations:C.slice()}),s=X(S.end,A,$,{target:e.target,handle:r,listeners:a,doNotReject:!0,handleNumbers:n.handleNumbers}),c=X("mouseout",A,K,{target:e.target,handle:r,listeners:a,doNotReject:!0,handleNumbers:n.handleNumbers});a.push.apply(a,o.concat(s,c)),e.cursor&&(D.style.cursor=getComputedStyle(e.target).cursor,i.length>1&&b(x,t.cssClasses.drag),D.addEventListener("selectstart",d,!1)),n.handleNumbers.forEach((function(e){re("start",e)}))}}function te(e,t){M[e]=M[e]||[],M[e].push(t),"update"===e.split(".")[0]&&i.forEach((function(e,t){re("update",t)}))}function ne(e){var t=e&&e.split(".")[0],n=t?e.substring(t.length):e;Object.keys(M).forEach((function(e){var r=e.split(".")[0],a=e.substring(r.length);t&&t!==r||n&&n!==a||function(e){return e===T||e===N}(a)&&n!==a||delete M[e]}))}function re(e,n,r){Object.keys(M).forEach((function(a){var o=a.split(".")[0];e===o&&M[a].forEach((function(e){e.call(me,_.map(t.format.to),n,_.slice(),r||!1,C.slice(),me)}))}))}function ae(e,n,r,a,o,s){var c;return i.length>1&&!t.events.unconstrained&&(a&&n>0&&(c=E.getAbsoluteDistance(e[n-1],t.margin,!1),r=Math.max(r,c)),o&&n<i.length-1&&(c=E.getAbsoluteDistance(e[n+1],t.margin,!0),r=Math.min(r,c))),i.length>1&&t.limit&&(a&&n>0&&(c=E.getAbsoluteDistance(e[n-1],t.limit,!1),r=Math.min(r,c)),o&&n<i.length-1&&(c=E.getAbsoluteDistance(e[n+1],t.limit,!0),r=Math.max(r,c))),t.padding&&(0===n&&(c=E.getAbsoluteDistance(0,t.padding[0],!1),r=Math.max(r,c)),n===i.length-1&&(c=E.getAbsoluteDistance(100,t.padding[1],!0),r=Math.min(r,c))),!((r=m(r=E.getStep(r)))===e[n]&&!s)&&r}function oe(e,n){var r=t.ort;return(r?n:e)+", "+(r?e:n)}function ie(e,t,n,r,a){var o=n.slice(),i=r[0],s=[!e,e],c=[e,!e];r=r.slice(),e&&r.reverse(),r.length>1?r.forEach((function(e,n){var r=ae(o,e,o[e]+t,s[n],c[n],!1);!1===r?t=0:(t=r-o[e],o[e]=r)})):s=c=[!0];var l=!1;r.forEach((function(e,r){l=le(e,n[e]+t,s[r],c[r])||l})),l&&(r.forEach((function(e){re("update",e),re("slide",e)})),null!=a&&re("drag",i))}function se(e,n){return t.dir?100-e-n:e}function ce(){L.forEach((function(e){var t=C[e]>50?-1:1,n=3+(i.length+t*e);i[e].style.zIndex=String(n)}))}function le(e,n,r,a,o){return o||(n=ae(C,e,n,r,a,!1)),!1!==n&&(function(e,n){C[e]=n,_[e]=E.fromStepping(n);var r="translate("+oe(se(n,0)-O+"%","0")+")";i[e].style[t.transformRule]=r,ue(e),ue(e+1)}(e,n),!0)}function ue(e){if(s[e]){var n=0,r=100;0!==e&&(n=C[e-1]),e!==s.length-1&&(r=C[e]);var a=r-n,o="translate("+oe(se(n,a)+"%","0")+")",i="scale("+oe(a/100,"1")+")";s[e].style[t.transformRule]=o+" "+i}}function pe(e,n){return null===e||!1===e||void 0===e?C[n]:("number"==typeof e&&(e=String(e)),!1!==(e=t.format.from(e))&&(e=E.toStepping(e)),!1===e||isNaN(e)?C[n]:e)}function de(e,n,r){var a=g(e),o=void 0===C[0];n=void 0===n||n,t.animate&&!o&&f(x,t.cssClasses.tap,t.animationDuration),L.forEach((function(e){le(e,pe(a[e],e),!0,!1,r)}));var i=1===L.length?0:1;if(o&&E.hasNoSize()&&(r=!0,C[0]=0,L.length>1)){var s=100/(L.length-1);L.forEach((function(e){C[e]=e*s}))}for(;i<L.length;++i)L.forEach((function(e){le(e,C[e],!0,!0,r)}));ce(),L.forEach((function(e){re("update",e),null!==a[e]&&n&&re("set",e)}))}function he(e){if(void 0===e&&(e=!1),e)return 1===_.length?_[0]:_.slice(0);var n=_.map(t.format.to);return 1===n.length?n[0]:n}function fe(e){var n=C[e],r=E.getNearbySteps(n),a=_[e],o=r.thisStep.step,i=null;if(t.snap)return[a-r.stepBefore.startValue||null,r.stepAfter.startValue-a||null];!1!==o&&a+o>r.stepAfter.startValue&&(o=r.stepAfter.startValue-a),i=a>r.thisStep.startValue?r.thisStep.step:!1!==r.stepBefore.step&&a-r.stepBefore.highestStep,100===n?o=null:0===n&&(i=null);var s=E.countStepDecimals();return null!==o&&!1!==o&&(o=Number(o.toFixed(s))),null!==i&&!1!==i&&(i=Number(i.toFixed(s))),[i,o]}b(h=x,t.cssClasses.target),0===t.dir?b(h,t.cssClasses.ltr):b(h,t.cssClasses.rtl),0===t.ort?b(h,t.cssClasses.horizontal):b(h,t.cssClasses.vertical),b(h,"rtl"===getComputedStyle(h).direction?t.cssClasses.textDirectionRtl:t.cssClasses.textDirectionLtr),r=V(h,t.cssClasses.base),function(e,n){var r=V(n,t.cssClasses.connects);i=[],(s=[]).push(q(r,e[0]));for(var a=0;a<t.handles;a++)i.push(H(n,a)),L[a]=a,s.push(q(r,e[a+1]))}(t.connect,r),(v=t.events).fixed||i.forEach((function(e,t){X(S.start,e.children[0],ee,{handleNumbers:[t]})})),v.tap&&X(S.start,r,(function(e){e.stopPropagation();var n=Q(e.calcPoint),r=function(e){var t=100,n=!1;return i.forEach((function(r,a){if(!Y(a)){var o=C[a],i=Math.abs(o-e);(i<t||i<=t&&e>o||100===i&&100===t)&&(n=a,t=i)}})),n}(n);!1!==r&&(t.events.snap||f(x,t.cssClasses.tap,t.animationDuration),le(r,n,!0,!0),ce(),re("slide",r,!0),re("update",r,!0),t.events.snap?ee(e,{handleNumbers:[r]}):(re("change",r,!0),re("set",r,!0)))}),{}),v.hover&&X(S.move,r,(function(e){var t=Q(e.calcPoint),n=E.getStep(t),r=E.fromStepping(n);Object.keys(M).forEach((function(e){"hover"===e.split(".")[0]&&M[e].forEach((function(e){e.call(me,r)}))}))}),{hover:!0}),v.drag&&s.forEach((function(e,n){if(!1!==e&&0!==n&&n!==s.length-1){var r=i[n-1],a=i[n],o=[e],c=[r,a],l=[n-1,n];b(e,t.cssClasses.draggable),v.fixed&&(o.push(r.children[0]),o.push(a.children[0])),v.dragAll&&(c=i,l=L),o.forEach((function(t){X(S.start,t,ee,{handles:c,handleNumbers:l,connect:e})}))}})),de(t.start),t.pips&&W(t.pips),t.tooltips&&F(),ne("update.__aria"),te("update.__aria",(function(e,n,r,a,o){L.forEach((function(e){var n=i[e],a=ae(C,e,0,!0,!0,!0),s=ae(C,e,100,!0,!0,!0),c=o[e],l=String(t.ariaFormat.to(r[e]));a=E.fromStepping(a).toFixed(1),s=E.fromStepping(s).toFixed(1),c=E.fromStepping(c).toFixed(1),n.children[0].setAttribute("aria-valuemin",a),n.children[0].setAttribute("aria-valuemax",s),n.children[0].setAttribute("aria-valuenow",c),n.children[0].setAttribute("aria-valuetext",l)}))}));var me={destroy:function(){for(ne(T),ne(N),Object.keys(t.cssClasses).forEach((function(e){y(x,t.cssClasses[e])}));x.firstChild;)x.removeChild(x.firstChild);delete x.noUiSlider},steps:function(){return L.map(fe)},on:te,off:ne,get:he,set:de,setHandle:function(e,t,n,r){if(!((e=Number(e))>=0&&e<L.length))throw new Error("noUiSlider: invalid handle number, got: "+e);le(e,pe(t,e),!0,!0,r),re("update",e),n&&re("set",e)},reset:function(e){de(t.start,e)},__moveHandles:function(e,t,n){ie(e,t,C,n)},options:n,updateOptions:function(e,r){var a=he(),o=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];o.forEach((function(t){void 0!==e[t]&&(n[t]=e[t])}));var i=Z(n);o.forEach((function(n){void 0!==e[n]&&(t[n]=i[n])})),E=i.spectrum,t.margin=i.margin,t.limit=i.limit,t.padding=i.padding,t.pips?W(t.pips):B(),t.tooltips?F():z(),C=[],de(p(e.start)?e.start:a,r)},target:x,removePips:B,removeTooltips:z,getPositions:function(){return C.slice()},getTooltips:function(){return l},getOrigins:function(){return i},pips:W};return me}const te=function(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var n=ee(e,Z(t),t);return e.noUiSlider=n,n};var ne,re=(ne=function(e,t){return ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ne(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ne(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});const ae=function(e){function t(t){var n=e.call(this,t)||this;return n.card=new c("main","main"),n.modal=new r("modal","modal"),n}return re(t,e),t.prototype.render=function(){return e=this,t=void 0,r=function(){var e,t;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(n){switch(n.label){case 0:return this.createArticle(),t=(e=this.container).append,[4,this.card.render()];case 1:return t.apply(e,[n.sent()]),[2,this.container]}}))},new((n=void 0)||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r},t.prototype.createArticle=function(){for(var e=this.createElement("article"),n=[this.createRoundCornerElement(),this.createComponent("wrap wrap__row comp__search",'\n    <div class="search">\n      <form>\n        <input type="search" placeholder="Search by toy name..." autocomplete="off" id="search" autofocus>\n        <button type="submit" class="button"></button>\n      </form>\n    </div>\n  '),this.createComponent("wrap comp__sort",'\n    <label class="title title__label" for="sort">Sort by:</label>\n    <select id="sort" class="sort">\n        <option value="not-sorted">No sorted</option>\n        <option value="sort-name-max">Name in ascending order</option>\n        <option value="sort-name-min">Name in descending order</option>\n        <option value="sort-year-max">Year in ascending order</option>\n        <option value="sort-year-min">Year in descending order</option>\n    </select>\n  '),this.createComponent("wrap comp__categories",'\n    <h3 class="title title__article">Categories</h3>\n    <input type="checkbox" name="select-all" class="custom-checkbox" id="select-all" data-filter="select-all">\n    <label class="descr" for="select-all">Show all</label>\n  '),this.createComponent("wrap comp__type",'\n    <h3 class="title title__article">Types</h3>\n    <div class="wrap wrap__row type">\n      <figure class="wrapper wrap__col" data-filter="bell">\n        <img src="https://raw.githubusercontent.com/Diluks93/stage1-tasks/christmas-task/assets/svg/bell.svg" alt="bell" class="img img__type">\n        <figcaption class="img__descr">Bell</figcaption>\n      </figure>\n      <figure class="wrapper wrap__col" data-filter="ball">\n        <img src="https://raw.githubusercontent.com/Diluks93/stage1-tasks/christmas-task/assets/svg/ball.svg" alt="ball" class="img img__type">\n        <figcaption class="img__descr">Ball</figcaption>\n      </figure>\n      <figure class="wrapper wrap__col" data-filter="cone">\n        <img src="https://raw.githubusercontent.com/Diluks93/stage1-tasks/christmas-task/assets/svg/pine.svg" alt="cone" class="img img__type">\n        <figcaption class="img__descr">Pine</figcaption>\n      </figure>\n      <figure class="wrapper wrap__col" data-filter="snowflake">\n        <img src="https://raw.githubusercontent.com/Diluks93/stage1-tasks/christmas-task/assets/svg/snowflake.svg" alt="snowflake" class="img img__type">\n        <figcaption class="img__descr">Snowflake</figcaption>\n      </figure>\n      <figure class="wrapper wrap__col" data-filter="figure">\n        <img src="https://raw.githubusercontent.com/Diluks93/stage1-tasks/christmas-task/assets/svg/toy.svg" alt="figure" class="img img__type">\n        <figcaption class="img__descr">Figure</figcaption>\n      </figure>\n    </div>\n  '),this.createComponent("wrap comp__range",'\n    <div class="count">\n      <label class="title title__label" for="count">Number of instances</label>\n      <div id="count"></div>\n      <div class="wrap wrap__row">\n        <span id="slider-range-value-count-lower"></span>\n        <span id="slider-range-value-count-upper"></span>\n      </div>\n    </div>\n    <div class="year">\n      <label class="title title__label" for="year">Years</label>\n      <div id="year"></div>\n      <div class="wrap wrap__row">\n        <span id="slider-range-value-year-lower"></span>\n        <span id="slider-range-value-year-upper"></span>\n      </div>\n    </div>\n  '),this.createComponent("wrap comp__colors",'\n    <label class="title title__label" for="color">Colors</label>\n    <div class="wrap wrap__row">\n      <div>\n        <input type="checkbox" name="color-yellow" id="color-yellow" class="custom-checkbox yellow" data-filter="yellow">\n        <label for="color-yellow"></label>\n      </div>\n      <div>\n        <input type="checkbox" name="color-white" id="color-white" class="custom-checkbox white" data-filter="white">\n        <label for="color-white"></label>\n      </div>\n      <div>\n        <input type="checkbox" name="color-red" id="color-red" class="custom-checkbox red" data-filter="red">\n        <label for="color-red"></label>\n      </div>\n      <div>\n        <input type="checkbox" name="color-blue" id="color-blue" class="custom-checkbox blue" data-filter="blue">\n        <label for="color-blue"></label>\n      </div>\n      <div>\n        <input type="checkbox" name="color-green" id="color-green" class="custom-checkbox green" data-filter="green">\n        <label for="color-green"></label>\n      </div>\n    </div>\n  '),this.createComponent("wrap wrap__row comp__size",'\n    <label class="title title__label">Size</label>\n    <div class="wrap wrap__row size">\n      <div class="size size__item">\n        <input type="checkbox" name="size-big" id="size-big" class="custom-checkbox" data-filter="big">\n        <label class="descr" for="size-big">Big</label>\n      </div>\n      <div class="size size__item">\n        <input type="checkbox" name="size-medium" id="size-medium" class="custom-checkbox" data-filter="medium">\n        <label class="descr" for="size-medium">Medium</label>\n      </div>\n      <div class="size size__item">\n        <input type="checkbox" name="size-small" id="size-small" class="custom-checkbox" data-filter="small">\n        <label class="descr" for="size-small">Small</label>\n      </div>\n    </div>\n  '),this.createComponent("wrap comp__favorite",'\n    <input type="checkbox" name="favorite" id="favorite" class="custom-checkbox favorite" data-filter="favorite">\n    <label class="descr" for="favorite">Only favorite</label>\n  '),this.createComponent("wrap wrap__row comp__buttons",'\n    <button class="btn btn__articles" id="safe">Safe</button>\n    <button class="btn btn__articles" id="reset">Reset</button>\n  ')],r=0,a=[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9]];r<a.length;r++){var o=a[r];e.append(o)}return this.useLibraryCount(e,t.paramNoUiSliderCount.selector,t.paramNoUiSliderCount.startValue,t.paramNoUiSliderCount.endValue,t.paramNoUiSliderCount.step,t.paramNoUiSliderCount.minValue,t.paramNoUiSliderCount.maxValue),this.useLibraryYear(e,t.paramNoUiSliderYear.selector,t.paramNoUiSliderYear.startValue,t.paramNoUiSliderYear.endValue,t.paramNoUiSliderYear.step,t.paramNoUiSliderYear.minValue,t.paramNoUiSliderYear.maxValue),this.container.append(e),this.sortedCards(e),this.settingFilter(e),this.liveSearch(e),this.clearSettings(e),this.container},t.prototype.clearSettings=function(e){var n=this,r=e.querySelector("#reset");null==r||r.addEventListener("click",(function(){var r=e.querySelectorAll("figure"),a=e.querySelectorAll("input"),o=e.querySelector(t.paramNoUiSliderCount.selector),i=e.querySelector(t.paramNoUiSliderYear.selector),s=n.card.getCards();r.forEach((function(e){e.classList.contains("active")&&e.classList.remove("active")})),a.forEach((function(e){e.checked=!1})),o.noUiSlider.set([t.paramNoUiSliderCount.startValue,t.paramNoUiSliderCount.endValue]),i.noUiSlider.set([t.paramNoUiSliderYear.startValue,t.paramNoUiSliderYear.endValue]),s.forEach((function(e){e.classList.remove("hide"),e.classList.remove("none")}))}))},t.prototype.settingFilter=function(e){var t=this;e.querySelector(".type").addEventListener("click",(function(e){var n=e.target.parentElement;null==n||n.classList.toggle("active"),t.card.typeData(null==n?void 0:n.dataset.filter)})),e.querySelectorAll('input[type="checkbox"]').forEach((function(e){e.addEventListener("change",(function(e){var n=e.target;n.checked?t.card.typeData(n.dataset.filter):t.card.getCards().forEach((function(e){e.classList.remove("hide"),e.classList.remove("none")}))}))}))},t.prototype.liveSearch=function(e){var t=this,n=e.querySelector("#search"),r=e.querySelector(".button");n.oninput=function(){var e=n.value.trim().toLocaleLowerCase(),a=t.card.getCards();r.onclick=function(o){o.preventDefault(),n.value=e="",r.classList.remove("close"),a.forEach((function(e){e.classList.remove("none")})),t.checkSearchEmpty(e,r,a)},t.checkSearchEmpty(e,r,a),Array.from(a).every((function(e){return"card not-find none"===e.className}))&&t.container.append(t.modal.render("Sorry, no matches found"))}},t.prototype.checkSearchEmpty=function(e,t,n){var r=this;""!=e?(t.classList.add("close"),n.forEach((function(t){var n=t.firstElementChild.innerText.toLocaleLowerCase();-1==n.search(e)?(t.classList.add("not-find"),r.returnTitleCard(t),t.addEventListener("transitionend",(function(){t.classList.add("none")}))):(t.classList.contains("none not-find")?t.classList.remove("none"):t.classList.remove("not-find"),t.firstElementChild.innerHTML=r.markFindString(r.returnTitleCard(t),n.search(e),e.length))}))):(t.classList.remove("close"),n.forEach((function(e){e.classList.remove("not-find"),r.returnTitleCard(e)})))},t.prototype.markFindString=function(e,t,n){var r=e.slice(0,t),a=e.slice(t,t+n),o=e.slice(t+n);return"".concat(r,"<mark>").concat(a,"</mark>").concat(o)},t.prototype.returnTitleCard=function(e){var t=e.firstElementChild.innerText;return e.firstElementChild.innerHTML=t},t.prototype.removeSelectCheckbox=function(e){return e.querySelector("#select-all").checked=!1},t.prototype.createElement=function(e){var t=document.createElement(e);return t.className=e,t},t.prototype.createRoundCornerElement=function(){var e=document.createElement("div");return e.className="round-corner",e},t.prototype.createComponent=function(e,t){var n=document.createElement("div");return n.className=e,n.innerHTML=t,n},t.prototype.useLibraryCount=function(e,n,r,a,o,i,s){var c,l,u,p=this,d=e.querySelector(n),h=null===(u=null===(l=null===(c=d.parentNode)||void 0===c?void 0:c.nextSibling)||void 0===l?void 0:l.nextSibling)||void 0===u?void 0:u.childNodes[2].nextSibling;te(d,{start:[r,a],step:o,connect:!0,range:{min:i,max:s},tooltips:[!0,!0],format:{to:function(e){return Math.round(+e)},from:function(e){return Number(e)}}});var f=[e.querySelector("#slider-range-value-count-lower"),e.querySelector("#slider-range-value-count-upper")];d.noUiSlider.on("update",(function(e,t){f[t].innerHTML=e[t]})),d.addEventListener("click",(function(){p.card.filterRange(d.noUiSlider.get(),!0,"data-count"),h.noUiSlider.set([t.paramNoUiSliderYear.startValue,t.paramNoUiSliderYear.endValue]),p.removeSelectCheckbox(e)}))},t.prototype.useLibraryYear=function(e,n,r,a,o,i,s){var c,l,u,p=this,d=e.querySelector(n),h=null===(u=null===(l=null===(c=d.parentNode)||void 0===c?void 0:c.previousSibling)||void 0===l?void 0:l.previousSibling)||void 0===u?void 0:u.childNodes[2].nextSibling;te(d,{start:[r,a],tooltips:[!0,!0],step:o,connect:!0,range:{min:i,max:s},format:{to:function(e){return Math.round(+e)},from:function(e){return Number(e)}}});var f=[e.querySelector("#slider-range-value-year-lower"),e.querySelector("#slider-range-value-year-upper")];d.noUiSlider.on("update",(function(e,t){f[t].innerHTML=e[t]})),d.addEventListener("click",(function(){p.card.filterRange(d.noUiSlider.get(),!1,"data-year"),h.noUiSlider.set([t.paramNoUiSliderCount.startValue,t.paramNoUiSliderCount.endValue]),p.removeSelectCheckbox(e)}))},t.prototype.sortedCards=function(e){var t=this,n=e.querySelector("#sort");null==n||n.addEventListener("change",(function(){t.card.sortCards(n.value)}))},t.textObject={titleContent:"Toys"},t.paramNoUiSliderCount={selector:"#count",startValue:1,endValue:12,step:1,minValue:1,maxValue:12},t.paramNoUiSliderYear={selector:"#year",startValue:1940,endValue:2020,step:10,minValue:1940,maxValue:2020},t}(e);var oe=function(){function e(e){this.WIDTH=e.children[1].offsetWidth,this.HEIGHT=e.children[1].offsetHeight,this.MAX_SNOWFLAKES=200}return e.prototype.showSnowflake=function(){var e=this,t=document.body.querySelector("#canvas");t.width=this.WIDTH,t.height=this.HEIGHT;for(var n=[],r=0;r<this.MAX_SNOWFLAKES;r++)n.push({x:Math.random()*this.WIDTH,y:Math.random()*this.HEIGHT,r:5*Math.random()+2,d:Math.random()+1});setInterval((function(){return e.drawFlakes(n,t)}),25)},e.prototype.drawFlakes=function(e,t){var n=t.getContext("2d");n.clearRect(0,0,this.WIDTH,this.HEIGHT),n.fillStyle="#ddeeff",n.beginPath();for(var r=0;r<this.MAX_SNOWFLAKES;r++){var a=e[r];n.moveTo(a.x,a.y),n.arc(a.x,a.y,a.r,0,2*Math.PI,!0)}n.fill(),this.moveFlakes(e)},e.prototype.moveFlakes=function(e){for(var t=0;t<this.MAX_SNOWFLAKES;t++){var n=e[t];n.y+=Math.pow(n.d,2)+1,n.x+=2*Math.sin(.01),n.y>this.HEIGHT&&(e[t]={x:Math.random()*this.WIDTH,y:0,r:n.r,d:n.d})}},e}(),ie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),se=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},ce=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};const le=function(e){function n(r){var a=e.call(this,r)||this;return a.isSnowMove=!0,a.QUANTITY_TREES=6,a.QUANTITY_BACKGROUNDS=10,a.QUANTITY_TEMPLATES=5,a.QUANTITY_LIGHTS=60,a.MAX_QUANTITY_TOYS=20,a.isPlay=!1,a.audio=new Audio("https://raw.githubusercontent.com/Diluks93/stage1-tasks/christmas-task/assets/audio/audio.mp3"),a.loader=new t(n.url),a}return ie(n,e),n.prototype.render=function(){var e=this.createHeaderTitle(n.textObject.titlePage),t=this.createMainComponent(),r=this.createTimer();return this.container.append(e),this.container.append(t),t.append(r),this.showBeforeNewYear(t),this.container},n.prototype.createMainComponent=function(){var e=this,t=document.createElement("main"),n=[this.createSection("settings"),this.createSection("main-tree"),this.createSection("result")];return t.className="christmas-tree",n.forEach((function(n,r){0===r&&e.buildSettings(n),t.append(n)})),this.changeBackground(t),this.changeChristmasTree(t),this.showMoveSnowflake(t),this.addMusic(t),this.buildSectionMainTree(t),this.showGarland(t),this.changeColorGarland(t),this.buildSectionResult(t),t},n.prototype.createHeaderTitle=function(e){var t=document.createElement("h2");return t.className="title title__game",t.innerText=e,t},n.prototype.createSection=function(e){var t=document.createElement("section");return t.className=e,t},n.prototype.buildSettings=function(e){var t=this.createComponentWrapper("wrap wrap__row"),n=this.createComponentChooseTree(),r=this.createComponentChooseBackground(),a=this.createComponentChooseGarland();return t.innerHTML='\n      <a href="" class="comp__search_link" id="sound">\n        <img class="img img__button" src="https://raw.githubusercontent.com/Diluks93/stage1-tasks/christmas-task/assets/svg/audio.svg" alt="mute button">\n      </a>\n      <a href="" class="comp__search_link" id="snowflake">\n        <img class="img img__button" src="https://raw.githubusercontent.com/Diluks93/stage1-tasks/christmas-task/assets/svg/snow.svg" alt="show snow button">\n      </a>\n    ',e.append(t),e.append(n),e.append(r),e.append(a),e},n.prototype.showMoveSnowflake=function(e){var t,n=this;null===(t=e.querySelector("#snowflake"))||void 0===t||t.addEventListener("click",(function(t){var r;t.preventDefault();var a=document.createElement("canvas");a.id="canvas",n.isSnowMove?(e.append(a),new oe(e).showSnowflake(),n.isSnowMove=!1):(null===(r=e.lastChild)||void 0===r||r.remove(),n.isSnowMove=!0)}))},n.prototype.playMusic=function(){this.isPlay=!0,this.audio.play(),this.isPlay&&this.audio.play()},n.prototype.pauseMusic=function(){this.isPlay=!1,this.isPlay||this.audio.pause()},n.prototype.addMusic=function(e){var t,n=this;null===(t=e.querySelector("#sound"))||void 0===t||t.addEventListener("click",(function(e){e.preventDefault(),n.isPlay?n.pauseMusic():n.playMusic()}))},n.prototype.createComponentChooseTree=function(){for(var e=this.createComponentWrapper("choose-tree"),t=this.createComponentTitle(n.textObject.titleComponentChooseTree,"title__settings"),r=this.createComponentWrapper("wrap wrap__row trees"),a=["green-tree","pine-tree","cone-tree","gold-tree","fir-tree","blue-tree"],o=1;o<=this.QUANTITY_TREES;o++){var i=document.createElement("picture"),s=document.createElement("source"),c=document.createElement("img");s.srcset="https://raw.githubusercontent.com/Diluks93/stage1-tasks/christmas-task/assets/tree/".concat(o,".webp"),c.src="https://raw.githubusercontent.com/Diluks93/stage1-tasks/christmas-task/assets/tree/".concat(o,".webp"),c.className=1===o?"img img__tree active":"img img__tree",c.alt=a[o-1],i.append(s),i.append(c),r.append(i)}return e.append(t),e.append(r),e},n.prototype.createComponentChooseBackground=function(){for(var e=this.createComponentWrapper("choose-background"),t=this.createComponentTitle(n.textObject.titleComponentChooseBackground,"title__settings"),r=this.createComponentWrapper("wrap wrap__row backgrounds"),a=["snow","blue","snow-tree","miracle","snow-city","moon","bullfinches","snow-town","snow-house","night-city"],o=1;o<=this.QUANTITY_BACKGROUNDS;o++){var i=document.createElement("picture"),s=document.createElement("source"),c=document.createElement("img");s.srcset="https://raw.githubusercontent.com/Diluks93/stage1-tasks/christmas-task/assets/bg/".concat(o,".webp"),c.src="https://raw.githubusercontent.com/Diluks93/stage1-tasks/christmas-task/assets/bg/".concat(o,".webp"),c.className=1===o?"img img__background active":"img img__background",c.alt=a[o-1],i.append(s),i.append(c),r.append(i)}return e.append(t),e.append(r),e},n.prototype.changeBackground=function(e){var t=this,n=e.querySelector(".backgrounds"),r=e.querySelector(".main-tree");n.addEventListener("click",(function(e){n.querySelectorAll(".img__background").forEach((function(e){e.classList.remove("active")})),e.target.classList.add("active");var a=t.getImg(e.target);r.style.backgroundImage="url(".concat(a,")")}))},n.prototype.buildSectionMainTree=function(e){var t=e.querySelector(".main-tree"),n=document.createElement("img");n.className="img img__main-tree",n.alt="christmas-tree",n.src="https://raw.githubusercontent.com/Diluks93/stage1-tasks/christmas-task/assets/tree/1.webp",n.useMap="#tree",t.innerHTML="\n    <map name = 'tree'>\n      <area coords = '250,15,218,57,200,83,171,135,119,226,126,270,120,323,82,357,33,450,53,486,15,558,44,599,71,631,119,674,189,691,262,694,308,693,361,684,435,660,459,622,481,542,447,454,420,357,391,226,349,150,305,73' shape = 'poly'>\n    </map>\n    ",t.prepend(n)},n.prototype.buildSectionResult=function(e){return se(this,void 0,void 0,(function(){var t,n,r,a;return ce(this,(function(o){switch(o.label){case 0:return t=e.querySelector(".result"),[4,this.createComponentToys()];case 1:return n=o.sent(),r=this.createButtonSafeTree(),a=this.createComponentYouDecorate(),t.append(n),t.append(a),t.append(r),this.getPage(t),this.setPage(t),this.dragAndDropToys(n),[2,t]}}))}))},n.prototype.showGarland=function(e){var t=e.querySelector(".checkbox"),n=e.querySelector(".main-tree"),r=this.createGarland();t.addEventListener("click",(function(){t.checked?n.append(r):r.remove()}))},n.prototype.createGarland=function(){var e=document.createElement("ul");e.className="lights";for(var t=0;t<this.QUANTITY_LIGHTS;t++){var n=document.createElement("li"),r=void 0,a=0;switch(t){case 0:r=3,a=55;break;case 1:r=10,a=42;break;case 2:r=12,a=48.5;break;case 3:r=10,a=55;break;case 4:r=18,a=38;break;case 5:r=20,a=45;break;case 6:r=20,a=52;break;case 7:r=18,a=58;break;case 8:r=26,a=34;break;case 9:r=28,a=41;break;case 10:r=30,a=49;break;case 11:r=28,a=57;break;case 12:r=26,a=63;break;case 13:r=32,a=33;break;case 14:r=36,a=40;break;case 15:r=38,a=47;break;case 16:r=38,a=54;break;case 17:r=36,a=60;break;case 18:r=32,a=67;break;case 19:r=40,a=29;break;case 20:r=44,a=37;break;case 21:r=47,a=45;break;case 22:r=47,a=55;break;case 23:r=44,a=63;break;case 24:r=40,a=71;break;case 25:r=47,a=23;break;case 26:r=51,a=32;break;case 27:r=55,a=41;break;case 28:r=57,a=50;break;case 29:r=55,a=59;break;case 30:r=51,a=68;break;case 31:r=47,a=77;break;case 32:r=55,a=19;break;case 33:r=59,a=28;break;case 34:r=63,a=37;break;case 35:r=65,a=46;break;case 36:r=65,a=55;break;case 37:r=63,a=64;break;case 38:r=59,a=73;break;case 39:r=55,a=82;break;case 40:r=63,a=10;break;case 41:r=67,a=19;break;case 42:r=71,a=28;break;case 43:r=73,a=37;break;case 44:r=75,a=46;break;case 45:r=75,a=55;break;case 46:r=73,a=64;break;case 47:r=71,a=73;break;case 48:r=67,a=82;break;case 49:r=63,a=91;break;case 50:r=75,a=9;break;case 51:r=79,a=18;break;case 52:r=83,a=27;break;case 53:r=87,a=36;break;case 54:r=89,a=45;break;case 55:r=89,a=54;break;case 56:r=87,a=65;break;case 57:r=83,a=74;break;case 58:r=79,a=83;break;case 59:r=75,a=91}n.style.top="".concat(r,"%"),n.style.left="".concat(a,"%"),e.append(n)}return e},n.prototype.changeColorGarland=function(e){var t=e.querySelectorAll(".radio"),n=document.createElement("style");t.forEach((function(e){e.addEventListener("click",(function(){switch(e.dataset.color){case"much":n.innerText="*{\n            --green: rgba(0,247,165,1);\n            --dark-green: rgba(0,247,165,0.2);\n            --light-green: rgba(0,247,165,0.4);\n            --blue: rgba(0,255,255,1);\n            --dark-blue: rgba(0,255,255,0.5);\n            --light-blue: rgba(0,255,255,0.4);\n            --red: rgba(247,0,148,1);\n            --dark-red: rgba(247,0,148,0.2);\n            --light-red: rgba(247,0,148,0.4);\n          }";break;case"yellow":n.innerText="*{\n            --green: rgba(202,247,0,1);\n            --dark-green: rgba(202,247,0,0.2);\n            --light-green: rgba(202,247,0,0.4);\n            --blue: rgba(202,247,0,1);\n            --dark-blue: rgba(202,247,0,0.2);\n            --light-blue: rgba(202,247,0,0.4);\n            --red: rgba(202,247,0,1);\n            --dark-red: rgba(202,247,0,0.2);\n            --light-red: rgba(202,247,0,0.4);\n          }";break;case"blue":n.innerText="*{\n            --green: rgba(0,255,255,1);\n            --dark-green: rgba(0,255,255,0.5);\n            --light-green: rgba(0,255,255,0.4);\n            --blue: rgba(0,255,255,1);\n            --dark-blue: rgba(0,255,255,0.5);\n            --light-blue: rgba(0,255,255,0.4);\n            --red: rgba(0,255,255,1);\n            --dark-red: rgba(0,255,255,0.5);\n            --light-red: rgba(0,255,255,0.4);\n          }";break;case"red":n.innerText="*{\n            --green: rgba(247,0,148,1);\n            --dark-green: rgba(247,0,148,0.2);\n            --light-green: rgba(247,0,148,0.4);\n            --blue: rgba(247,0,148,1);\n            --dark-blue: rgba(247,0,148,0.2);\n            --light-blue: rgba(247,0,148,0.4);\n            --red: rgba(247,0,148,1);\n            --dark-red: rgba(247,0,148,0.2);\n            --light-red: rgba(247,0,148,0.4);\n          }";break;case"green":n.innerText="*{\n            --green: rgba(0,247,165,1);\n            --dark-green: rgba(0,247,165,0.2);\n            --light-green: rgba(0,247,165,0.4);\n            --blue: rgba(0,247,165,1);\n            --dark-blue: rgba(0,247,165,0.2);\n            --light-blue: rgba(0,247,165,0.4);\n            --red: rgba(0,247,165,1);\n            --dark-red: rgba(0,247,165,0.2);\n            --light-red: rgba(0,247,165,0.4);\n          }"}document.head.append(n)}))}))},n.prototype.changeChristmasTree=function(e){var t=this,n=e.querySelector(".trees");n.addEventListener("click",(function(r){var a,o=e.querySelector(".main-tree");n.querySelectorAll(".img__tree").forEach((function(e){e.classList.remove("active")})),r.target.classList.add("active");var i=t.getImg(r.target),s=document.createElement("img");s.className="img img__main-tree",s.alt="christmas-tree",s.src=i,s.useMap="#tree",0===o.childElementCount||null===(a=o.firstChild)||void 0===a||a.remove(),o.prepend(s)}))},n.prototype.getImg=function(e){return e.src},n.prototype.getDataImage=function(){return JSON.parse(localStorage.getItem("dataImage"))||[]},n.prototype.createComponentToys=function(){return se(this,void 0,void 0,(function(){var e,t,r,a,o,i,s,c,l,u;return ce(this,(function(p){switch(p.label){case 0:return e=this.createComponentWrapper("toys__component"),t=this.createComponentTitle(n.textObject.titleComponentToys,"title__settings"),r=this.createComponentWrapper("wrap wrap__row toys"),[4,this.getDataImage()];case 1:if(0==(a=p.sent()).length)return[3,2];for(i=0;i<a.length;i++){for(s=this.createComponentWrapper("toy"),(c=this.createComponentWrapper("quantity")).innerText="".concat(a[i].count),l=0;l<a[i].count;l++)(u=document.createElement("img")).src="https://raw.githubusercontent.com/Diluks93/stage1-tasks/christmas-task/assets/toys/".concat(i+1,".webp"),u.className="img img__toy",u.alt="toy",u.draggable=!0,a[i].unique&&s.append(u);a[i].unique&&(s.append(c),r.append(s))}return[3,4];case 2:return[4,this.loader.load()];case 3:for(o=p.sent(),i=0;i<this.MAX_QUANTITY_TOYS;i++){for(s=this.createComponentWrapper("toy"),(c=this.createComponentWrapper("quantity")).innerText="".concat(o[i].count),l=1;l<=o[i].count;l++)(u=document.createElement("img")).src="https://raw.githubusercontent.com/Diluks93/stage1-tasks/christmas-task/assets/toys/".concat(i+1,".webp"),u.className="img img__toy",u.alt="toy",u.draggable=!0,s.append(u);s.append(c),r.append(s)}p.label=4;case 4:return e.append(t),e.append(r),[2,e]}}))}))},n.prototype.createComponentChooseGarland=function(){for(var e=this.createComponentWrapper("choose-garland"),t=this.createComponentTitle(n.textObject.titleComponentChooseGarland,"title__settings"),r=this.createComponentWrapper("wrap wrap__row garland"),a=["much","yellow","blue","red","green"],o=document.createElement("div"),i=1;i<=this.QUANTITY_TEMPLATES;i++){var s=document.createElement("div");s.className="radio",s.dataset.color="".concat(a[i-1]),s.innerHTML='\n        <label class="custom-radio">\n          <input type="radio" name="color" id="color-'.concat(a[i-1],'">\n          <span class="radio-').concat(a[i-1],'"></span>\n        </label>\n      '),r.append(s)}return o.className="toggle-button-cover",o.innerHTML='\n      <div class="button-cover">\n        <div class="button r" id="button">\n          <input type="checkbox" class="checkbox" />\n          <div class="knobs"></div>\n          <div class="layer"></div>\n        </div>\n      </div>\n    ',r.append(o),e.append(t),e.append(r),e},n.prototype.createComponentWrapper=function(e){var t=document.createElement("div");return t.className=e,t},n.prototype.dragAndDropToys=function(e){var t=e.querySelector(".toys"),n=document.body.querySelector("map"),r=0,a=0,o=0;null==t||t.addEventListener("dragstart",(function(e){var t,n,i,s=window.getComputedStyle(e.target),c=parseInt(s.getPropertyValue("--x")),l=parseInt(s.getPropertyValue("--y"));r=e.pageX-c,a=e.pageY-l,o=+(null===(i=null===(n=null===(t=e.target)||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.lastChild)||void 0===i?void 0:i.innerText)})),n.addEventListener("dragover",(function(e){e.preventDefault()})),n.addEventListener("drop",(function(e){e.preventDefault(),t.addEventListener("dragend",(function(e){var t;e.target.style.setProperty("--x","".concat(e.pageX-r,"px")),e.target.style.setProperty("--y","".concat(e.pageY-a,"px"));var n=o?o-1:0;(null===(t=e.target.parentElement)||void 0===t?void 0:t.lastChild).innerText="".concat(n)}))}))},n.prototype.createComponentTitle=function(e,t){var n=document.createElement("h3");return n.className="title ".concat(t),n.innerText=e,n},n.prototype.createButtonSafeTree=function(){var e=document.createElement("a");return e.className="btn btn__articles",e.innerText="Safe Tree",e},n.prototype.createComponentYouDecorate=function(){var e=this.createComponentWrapper("decorate"),t=this.createComponentTitle(n.textObject.titleComponentDecorate,"title__settings"),r=this.createComponentWrapper("wrap wrap__row decorate-trees");return e.append(t),e.append(r),e},n.prototype.getPage=function(e){var t=this,n=e.querySelector(".btn__articles"),r=e.querySelector(".decorate-trees"),a=0;null==n||n.addEventListener("click",(function(e){e.preventDefault(),a++;var n=document.body.querySelector(".img__main-tree"),o=document.body.querySelector(".main-tree"),i=window.getComputedStyle(o).getPropertyValue("background-image"),s=t.createComponentWrapper("decorate-tree");s.dataset.id="".concat(a);var c=document.createElement("img"),l=n.src;c.className="img img__decorate",s.append(c),s.style.backgroundImage=i,c.src=l,localStorage.setItem("html".concat(a),JSON.stringify(document.body.innerHTML)),null==r||r.append(s)}))},n.prototype.setPage=function(e){var t=e.querySelector(".decorate-trees");null==t||t.addEventListener("click",(function(e){var t,n=null===(t=e.target.parentElement)||void 0===t?void 0:t.dataset.id;document.body.innerHTML="".concat(JSON.parse(localStorage.getItem("html".concat(n))))}))},n.prototype.createTimer=function(){var e=this.createComponentWrapper("countdown-container");return e.innerHTML='\n      <div class="time">\n        <h4 id="days">00</h1>\n        <small>days</small>\n      </div>\n      <div class="time">\n        <h4 id="hours">00</h1>\n        <small>hours</small>\n      </div>\n      <div class="time">\n        <h4 id="minutes">00</h1>\n        <small>minutes</small>\n      </div>\n      <div class="time">\n        <h4 id="seconds">00</h1>\n        <small>seconds</small>\n      </div>\n    ',e},n.prototype.showBeforeNewYear=function(e){var t=new Date("December 31 2021 23:59:59"),n=e.querySelector("#days"),r=e.querySelector("#hours"),a=e.querySelector("#minutes"),o=e.querySelector("#seconds");setInterval((function(){var e=new Date,i=+t-+e,s=Math.floor(i/1e3/60/60/24),c=Math.floor(i/1e3/60/60)%24,l=Math.floor(i/1e3/60)%60,u=Math.floor(i/1e3)%60;n.innerText="".concat(s),r.innerText="".concat(c),a.innerText="".concat(l),o.innerText="".concat(u)}),1e3)},n.url="https://raw.githubusercontent.com/Diluks93/stage1-tasks/christmas-task/data.json",n.textObject={titlePage:"❄️ New Year is Coming! ❄️",titleComponentChooseTree:"Choose Christmas tree",titleComponentChooseBackground:"Choose background",titleComponentChooseGarland:"Choose garland's lighting",titleComponentToys:"Toys",titleComponentDecorate:"You decorated"},n}(e);var ue=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const pe=function(e){function t(t){return e.call(this,t)||this}return ue(t,e),t.prototype.render=function(){var e=this.createWrapper();return this.container.append(e),this.container},t.prototype.createHeaderTitle=function(e){var t=document.createElement("h1");return t.className="title title__main",t.innerText=e,t},t.prototype.createButtonStart=function(e){var t=document.createElement("a");return t.href="#".concat("settings-page"),t.className="btn btn__main",t.innerText=e,t},t.prototype.createWrapper=function(){var e=document.createElement("div"),n=this.createHeaderTitle(t.textObject.titleContent),r=this.createButtonStart(t.textObject.buttonContent);return e.append(n),e.append(r),e},t.textObject={titleContent:"Help your grandmother to decorate Christmas tree",buttonContent:"Let's start"},t}(e),de=function(){function e(e,t){this.container=document.createElement(e),this.container.className=t}return e.prototype.render=function(){return this.renderPageButtons(),this.container},e.prototype.renderPageButtons=function(){console.log("Component working!")},e}();var he=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fe=[{id:"home-page",text:"<img src='https://raw.githubusercontent.com/Diluks93/stage1-tasks/christmas-task/assets/svg/tree.svg' alt='logo'>"},{id:"home-page",text:"Home"},{id:"settings-page",text:"Choose toys"},{id:"game-page",text:"Christmas tree"}];const me=function(e){function t(t,n){return e.call(this,t,n)||this}return he(t,e),t.prototype.renderPageButtons=function(){var e=document.createElement("nav"),t=document.createElement("div");t.className="unique",e.className="nav items",fe.forEach((function(t,n){var r=document.createElement("a");r.href="#".concat(t.id),r.className="item",0===n?r.innerHTML="".concat(t.text):r.innerText="".concat(t.text),e.append(r)})),this.container.append(e),this.container.append(t)},t}(de);var ge=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const ve=function(e){function t(t,n){var r=e.call(this,t)||this;return r.errorType=n,r}return ge(t,e),t.prototype.render=function(){var e=this.createHeaderTitle(t.textObject.titleContent);return this.container.append(e),this.container},t.textObject={titleContent:"Error! This page was not found"},t}(e);var be=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ye=[{text:"Developer: Diluks93",url:"https://github.com/Diluks93"},{text:"2021"},{text:'<img src="https://raw.githubusercontent.com/Diluks93/stage1-tasks/christmas-task/assets/svg/rsschool.svg" alt="logo course">',url:"https://rs.school/js/"}];const we=function(e){function t(t,n){return e.call(this,t,n)||this}return be(t,e),t.prototype.renderPageButtons=function(){var e=document.createElement("ul");e.className="items",ye.forEach((function(t,n){var r;0===n||2===n?((r=document.createElement("a")).href="".concat(t.url),r.setAttribute("target","blank"),0===n?r.innerText="".concat(t.text):r.innerHTML="".concat(t.text)):(r=document.createElement("time")).dateTime=r.innerText="".concat(t.text),r.className="item",e.append(r)})),this.container.append(e)},t}(de);var Se=function(){function e(){this.initialPage=new pe("home-page"),this.header=new me("header","header"),this.footer=new we("footer","footer")}return e.renderNewPage=function(t){return n=this,r=void 0,o=function(){var n,r,a;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(o){switch(o.label){case 0:switch((n=document.getElementById("".concat(e.defaultPageId)))&&n.remove(),r=null,t){case"home-page":r=new pe(t);break;case"settings-page":r=new ae(t);break;case"game-page":r=new le(t);break;default:r=new ve(t,404)}return r?[4,r.render()]:[3,2];case 1:(a=o.sent()).id=e.defaultPageId,e.container.append(a),o.label=2;case 2:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function i(e){try{c(o.next(e))}catch(e){t(e)}}function s(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,s)}c((o=o.apply(n,r||[])).next())}));var n,r,a,o},e.prototype.start=function(){e.container.append(this.header.render()),e.renderNewPage("home-page"),e.container.append(this.footer.render()),this.enableRouteChange()},e.prototype.enableRouteChange=function(){window.addEventListener("hashchange",(function(){var t=window.location.hash.slice(1);e.renderNewPage(t)}))},e.container=document.getElementById("root"),e.defaultPageId="current-page",e}();const ke=Se;n(265),(new ke).start()})()})();